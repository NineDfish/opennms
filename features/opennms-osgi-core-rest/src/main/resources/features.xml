<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<features name="opennms-osgi-core-rest" xmlns="http://karaf.apache.org/xmlns/features/v1.2.0">
    <repository>mvn:com.eclipsesource.jaxrs/features/${osgiJaxRsVersion}/xml/features</repository>
    <!-- TODO MVR verify if this is the right configuration -->
    <feature name="opennms-osgi-core-rest" version="${project.version}" description="OpenNMS :: Features :: OSGI :: Core :: Rest">
        <details>Core module which provides features to install to listen for rest related services,
        such as @Path annotated interfaces.</details>
        <feature>jax-rs-connector</feature>
        <feature>jax-rs-provider-jackson</feature>
        <bundle>mvn:org.opennms.features/org.opennms.features.rest-provider/${project.version}</bundle>
    </feature>
    <feature name="jax-rs-connector" version="${osgiJaxRsVersion}" description="Jersey JAX RS OSGi Connector" resolver="(obr)">
        <feature>http</feature>
        <feature>scr</feature>
        <bundle dependency="true">mvn:javax.annotation/javax.annotation-api/1.2</bundle>
        <bundle dependency="true">mvn:javax.servlet/javax.servlet-api/${servletApiVersion}</bundle>
        <bundle dependency="true">mvn:com.eclipsesource.jaxrs/jersey-min/2.22.2</bundle>
        <bundle>mvn:com.eclipsesource.jaxrs/consumer/${osgiJaxRsVersion}</bundle>
        <bundle>mvn:com.eclipsesource.jaxrs/publisher/${osgiJaxRsVersion}</bundle>
        <bundle>mvn:com.eclipsesource.jaxrs/publisher-api/${osgiJaxRsVersion}</bundle>
    </feature>
    <feature name="jax-rs-provider-moxy" version="${osgiJaxRsVersion}" description="Moxy Json Provider for Jersey">
        <feature version="2.5.2">eclipselink-moxy</feature>
        <bundle>mvn:com.eclipsesource.jaxrs/provider-moxy/${osgiJaxRsVersion}</bundle>
    </feature>
    <feature name="jax-rs-provider-jackson" version="${osgiJaxRsVersion}" description="Jackson Json Provider for Jersey">
        <feature version="${jacksonVersion}">jackson</feature>
        <bundle>mvn:com.eclipsesource.jaxrs/provider-jackson/${osgiJaxRsVersion}</bundle>
    </feature>
    <feature name="jax-rs-provider-gson" version="${jax-rs-providers.gson.version}">
        <bundle dependency="true">mvn:com.google.code.gson/gson/2.3</bundle>
        <bundle>mvn:com.eclipsesource.jaxrs/provider-gson/${osgiJaxRsVersion}</bundle>
    </feature>
    <feature name="jax-rs-provider-multipart" version="${osgiJaxRsVersion}">
        <bundle>mvn:com.eclipsesource.jaxrs/provider-multipart/${osgiJaxRsVersion}</bundle>
    </feature>
    <feature name="jax-rs-provider-security" version="${osgiJaxRsVersion}">
        <bundle>mvn:com.eclipsesource.jaxrs/provider-security/${osgiJaxRsVersion}</bundle>
    </feature>
    <feature name="jax-rs-provider-sse" version="${osgiJaxRsVersion}">
        <bundle>mvn:com.eclipsesource.jaxrs/provider-sse/${osgiJaxRsVersion}</bundle>
    </feature>
    <feature name="eclipselink-moxy" version="2.5.2" description="Eclipselink :: Moxy">
        <bundle dependency="true">mvn:org.eclipse.persistence/org.eclipse.persistence.core/2.5.2</bundle>
        <bundle dependency="true">mvn:org.eclipse.persistence/org.eclipse.persistence.asm/2.5.2</bundle>
        <bundle dependency="true">mvn:org.eclipse.persistence/org.eclipse.persistence.antlr/2.5.2</bundle>
        <bundle dependency="true">mvn:org.eclipse.persistence/org.eclipse.persistence.moxy/2.5.2</bundle>
    </feature>
    <feature name="jax-rs-shell-commands" version="${osgiJaxRsVersion}" description="JAX RS OSGi Shell Commands">
        <bundle>mvn:com.eclipsesource.jaxrs/publisher-api/${osgiJaxRsVersion}</bundle>
        <bundle>mvn:com.eclipsesource.jaxrs/shell-commands/${osgiJaxRsVersion}</bundle>
    </feature>
    <feature name="jackson" version="${jacksonVersion}" description="Jackson :: Jaxrs">
        <bundle dependency="true">mvn:com.fasterxml.jackson.core/jackson-annotations/2.8.0</bundle>
        <bundle dependency="true">mvn:com.fasterxml.jackson.core/jackson-databind/${jacksonVersion}</bundle>
        <bundle dependency="true">mvn:com.fasterxml.jackson.core/jackson-core/${jacksonVersion}</bundle>
        <bundle dependency="true">mvn:com.fasterxml.jackson.jaxrs/jackson-jaxrs-base/${jacksonVersion}</bundle>
        <bundle dependency="true">mvn:com.fasterxml.jackson.module/jackson-module-jaxb-annotations/${jacksonVersion}</bundle>
        <bundle dependency="true">mvn:com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider/${jacksonVersion}</bundle>
    </feature>
</features>
